https://bugs.gentoo.org/705412
--- a/Makefile.in
+++ b/Makefile.in
@@ -308,62 +308,67 @@ version_tag.h version:
 
 ifeq (@MINGW32@,yes)
 ifeq ($(MAN),none)
-INSTALL_DOC = installman
+INSTALL_DOC = $(mandir)/man1/iverilog-vpi$(suffix).1
 else
 ifeq ($(PS2PDF),none)
-INSTALL_DOC = installman
+INSTALL_DOC = $(mandir)/man1/iverilog-vpi$(suffix).1
 else
-INSTALL_DOC = installpdf installman
+INSTALL_DOC = $(prefix)/iverilog-vpi$(suffix).pdf $(mandir)/man1/iverilog-vpi$(suffix).1
 all: dep iverilog-vpi.pdf
 endif
 endif
 INSTALL_DOCDIR = $(mandir)/man1
 else
-INSTALL_DOC = installman
+INSTALL_DOC = $(mandir)/man1/iverilog-vpi$(suffix).1
 INSTALL_DOCDIR = $(mandir)/man1
 endif
 
 ifeq (@MINGW32@,yes)
 WIN32_INSTALL =
 else
-WIN32_INSTALL = installwin32
+WIN32_INSTALL = $(bindir)/iverilog-vpi$(suffix)
 endif
 
-install: all installdirs installfiles
+install: all installdirs $(libdir)/ivl$(suffix)/ivl@EXEEXT@  $(libdir)/ivl$(suffix)/include/constants.vams $(libdir)/ivl$(suffix)/include/disciplines.vams $(includedir)/ivl_target.h $(includedir)/_pli_types.h $(includedir)/sv_vpi_user.h $(includedir)/vpi_user.h $(includedir)/acc_user.h $(includedir)/veriuser.h $(WIN32_INSTALL) $(INSTALL_DOC)
 	$(foreach dir,$(SUBDIRS),$(MAKE) -C $(dir) $@ && ) true
 
-F = ./ivl@EXEEXT@ \
-	$(srcdir)/constants.vams \
-	$(srcdir)/disciplines.vams \
-	$(srcdir)/ivl_target.h \
-	./_pli_types.h \
-	$(srcdir)/sv_vpi_user.h \
-	$(srcdir)/vpi_user.h \
-	$(srcdir)/acc_user.h \
-	$(srcdir)/veriuser.h \
-	$(INSTALL_DOC) \
-	$(WIN32_INSTALL)
-
-installwin32: ./iverilog-vpi installdirs
+$(bindir)/iverilog-vpi$(suffix): ./iverilog-vpi installdirs
 	$(INSTALL_SCRIPT) ./iverilog-vpi "$(DESTDIR)$(bindir)/iverilog-vpi$(suffix)"
 
-installman: iverilog-vpi.man installdirs
-	$(INSTALL_DATA) iverilog-vpi.man "$(DESTDIR)$(mandir)/man1/iverilog-vpi$(suffix).1"
-
-installpdf: iverilog-vpi.pdf installdirs
-	$(INSTALL_DATA) iverilog-vpi.pdf "$(DESTDIR)$(prefix)/iverilog-vpi$(suffix).pdf"
-
-installfiles: $(F) installdirs
+$(libdir)/ivl$(suffix)/ivl@EXEEXT@: ./ivl@EXEEXT@ installdirs
 	$(INSTALL_PROGRAM) ./ivl@EXEEXT@ "$(DESTDIR)$(libdir)/ivl$(suffix)/ivl@EXEEXT@"
+
+$(libdir)/ivl$(suffix)/include/constants.vams: $(srcdir)/constants.vams installdirs
 	$(INSTALL_DATA) $(srcdir)/constants.vams "$(DESTDIR)$(libdir)/ivl$(suffix)/include/constants.vams"
+
+$(libdir)/ivl$(suffix)/include/disciplines.vams: $(srcdir)/disciplines.vams installdirs
 	$(INSTALL_DATA) $(srcdir)/disciplines.vams "$(DESTDIR)$(libdir)/ivl$(suffix)/include/disciplines.vams"
+
+$(includedir)/ivl_target.h: $(srcdir)/ivl_target.h installdirs
 	$(INSTALL_DATA) $(srcdir)/ivl_target.h "$(DESTDIR)$(includedir)/ivl_target.h"
-	$(INSTALL_DATA) ./_pli_types.h "$(DESTDIR)$(includedir)/_pli_types.h"
+
+$(includedir)/_pli_types.h: _pli_types.h installdirs
+	$(INSTALL_DATA) $< "$(DESTDIR)$(includedir)/_pli_types.h"
+
+$(includedir)/sv_vpi_user.h: $(srcdir)/sv_vpi_user.h installdirs
 	$(INSTALL_DATA) $(srcdir)/sv_vpi_user.h "$(DESTDIR)$(includedir)/sv_vpi_user.h"
+
+$(includedir)/vpi_user.h: $(srcdir)/vpi_user.h installdirs
 	$(INSTALL_DATA) $(srcdir)/vpi_user.h "$(DESTDIR)$(includedir)/vpi_user.h"
+
+$(includedir)/acc_user.h: $(srcdir)/acc_user.h installdirs
 	$(INSTALL_DATA) $(srcdir)/acc_user.h "$(DESTDIR)$(includedir)/acc_user.h"
+
+$(includedir)/veriuser.h: $(srcdir)/veriuser.h installdirs
 	$(INSTALL_DATA) $(srcdir)/veriuser.h "$(DESTDIR)$(includedir)/veriuser.h"
 
+$(mandir)/man1/iverilog-vpi$(suffix).1: iverilog-vpi.man installdirs
+	$(INSTALL_DATA) iverilog-vpi.man "$(DESTDIR)$(mandir)/man1/iverilog-vpi$(suffix).1"
+
+$(prefix)/iverilog-vpi$(suffix).pdf: iverilog-vpi.pdf installdirs
+	$(INSTALL_DATA) iverilog-vpi.pdf "$(DESTDIR)$(prefix)/iverilog-vpi$(suffix).pdf"
+
+
 installdirs: $(srcdir)/mkinstalldirs
 	$(srcdir)/mkinstalldirs "$(DESTDIR)$(bindir)" \
 	    "$(DESTDIR)$(includedir)" \
--- a/cadpli/Makefile.in
+++ b/cadpli/Makefile.in
@@ -79,11 +79,9 @@ endif
 cadpli.vpl: $O ../vpi/libvpi.a ../libveriuser/libveriuser.o
 	$(CC) @shared@ $(LDFLAGS) -o $@ $O ../libveriuser/libveriuser.o $(SYSTEM_VPI_LDFLAGS)
 
-install: all installdirs installfiles
+install: all installdirs $(vpidir)/cadpli.vpl
 
-F = ./cadpli.vpl
-
-installfiles: $(F) installdirs
+$(vpidir)/cadpli.vpl: ./cadpli.vpl
 	$(INSTALL_PROGRAM) ./cadpli.vpl "$(DESTDIR)$(vpidir)/cadpli.vpl"
 
 installdirs: $(srcdir)/../mkinstalldirs
--- a/driver-vpi/Makefile.in
+++ b/driver-vpi/Makefile.in
@@ -94,11 +94,9 @@ res.o: res.rc
 	$(WINDRES) -i res.rc -o res.o
 #
 
-install: all installdirs installfiles
+install: all installdirs $(bindir)/iverilog-vpi$(suffix)@EXEEXT@
 
-F = ./iverilog-vpi@EXEEXT@
-
-installfiles: $(F) installdirs
+$(bindir)/iverilog-vpi$(suffix)@EXEEXT@: ./iverilog-vpi@EXEEXT@
 	$(INSTALL_PROGRAM) ./iverilog-vpi@EXEEXT@ "$(bindir)/iverilog-vpi$(suffix)@EXEEXT@"
 ifeq (@WIN32@,yes)
 ifneq ($(HOSTCC),$(CC))
--- a/driver/Makefile.in
+++ b/driver/Makefile.in
@@ -112,35 +112,32 @@ iverilog.pdf: iverilog.ps
 
 ifeq (@MINGW32@,yes)
 ifeq ($(MAN),none)
-INSTALL_DOC = installman
+INSTALL_DOC = $(mandir)/man1/iverilog$(suffix).1
 else
 ifeq ($(PS2PDF),none)
-INSTALL_DOC = installman
+INSTALL_DOC = $(mandir)/man1/iverilog$(suffix).1
 else
-INSTALL_DOC = installpdf installman
+INSTALL_DOC = $(prefix)/iverilog$(suffix).pdf $(mandir)/man1/iverilog$(suffix).1
 all: iverilog.pdf
 endif
 endif
 INSTALL_DOCDIR = $(mandir)/man1
 else
-INSTALL_DOC = installman
+INSTALL_DOC = $(mandir)/man1/iverilog$(suffix).1
 INSTALL_DOCDIR = $(mandir)/man1
 endif
 
-install: all installdirs installfiles
+install: all installdirs $(bindir)/iverilog$(suffix)@EXEEXT@ $(INSTALL_DOC)
 
-F = ./iverilog@EXEEXT@ \
-	$(INSTALL_DOC)
+$(bindir)/iverilog$(suffix)@EXEEXT@: ./iverilog@EXEEXT@
+	$(INSTALL_PROGRAM) ./iverilog@EXEEXT@ "$(DESTDIR)$(bindir)/iverilog$(suffix)@EXEEXT@"
 
-installman: iverilog.man installdirs
+$(mandir)/man1/iverilog$(suffix).1: iverilog.man
 	$(INSTALL_DATA) iverilog.man "$(DESTDIR)$(mandir)/man1/iverilog$(suffix).1"
 
-installpdf: iverilog.pdf installdirs
+$(prefix)/iverilog$(suffix).pdf: iverilog.pdf
 	$(INSTALL_DATA) iverilog.pdf "$(DESTDIR)$(prefix)/iverilog$(suffix).pdf"
 
-installfiles: $(F) installdirs
-	$(INSTALL_PROGRAM) ./iverilog@EXEEXT@ "$(DESTDIR)$(bindir)/iverilog$(suffix)@EXEEXT@"
-
 installdirs: $(srcdir)/../mkinstalldirs
 	$(srcdir)/../mkinstalldirs "$(DESTDIR)$(bindir)" "$(DESTDIR)$(INSTALL_DOCDIR)"
 
--- a/ivlpp/Makefile.in
+++ b/ivlpp/Makefile.in
@@ -71,11 +71,9 @@ ivlpp@EXEEXT@: $O
 lexor.c: $(srcdir)/lexor.lex
 	$(LEX) -t $< > $@
 
-install: all installdirs installfiles
+install: all installdirs $(libdir)/ivl$(suffix)/ivlpp@EXEEXT@
 
-F = ivlpp@EXEEXT@
-
-installfiles: $(F) installdirs
+$(libdir)/ivl$(suffix)/ivlpp@EXEEXT@: ivlpp@EXEEXT@
 	$(INSTALL_PROGRAM) ./ivlpp@EXEEXT@ "$(DESTDIR)$(libdir)/ivl$(suffix)/ivlpp@EXEEXT@"
 
 installdirs: $(srcdir)/../mkinstalldirs
--- a/libveriuser/Makefile.in
+++ b/libveriuser/Makefile.in
@@ -103,11 +103,9 @@ libveriuser.a: libveriuser.o
 	$(CC) $(CPPFLAGS) $(CFLAGS) @DEPENDENCY_FLAG@ -c $< -o $*.o
 	mv $*.d dep
 
-install:: all installdirs installfiles
+install:: all installdirs $(libdir)/libveriuser$(suffix).a $(INSTALL32)
 
-F = ./libveriuser.a
-
-installfiles: $(F) installdirs
+$(libdir)/libveriuser$(suffix).a: ./libveriuser.a
 	$(INSTALL_DATA) ./libveriuser.a "$(DESTDIR)$(libdir)/libveriuser$(suffix).a"
 
 installdirs: $(srcdir)/../mkinstalldirs
--- a/tgt-blif/Makefile.in
+++ b/tgt-blif/Makefile.in
@@ -83,17 +83,18 @@ endif
 blif.tgt: $O $(TGTDEPLIBS)
 	$(CXX) @shared@ $(LDFLAGS) -o $@ $O $(TGTLDFLAGS)
 
-install: all installdirs installfiles
+install: all installdirs $(libdir)/ivl$(suffix)/blif.tgt $(INSTALL_DOC) $(libdir)/ivl$(suffix)/blif.conf $(libdir)/ivl$(suffix)/blif-s.conf
 
-F = ./blif.tgt \
-	$(srcdir)/blif.conf \
-	$(srcdir)/blif-s.conf
-
-installfiles: $(F) installdirs
+$(libdir)/ivl$(suffix)/blif.tgt: ./blif.tgt
 	$(INSTALL_PROGRAM) ./blif.tgt "$(DESTDIR)$(libdir)/ivl$(suffix)/blif.tgt"
+
+$(libdir)/ivl$(suffix)/blif.conf: $(srcdir)/blif.conf
 	$(INSTALL_DATA) $(srcdir)/blif.conf "$(DESTDIR)$(libdir)/ivl$(suffix)/blif.conf"
+
+$(libdir)/ivl$(suffix)/blif-s.conf: $(srcdir)/blif-s.conf
 	$(INSTALL_DATA) $(srcdir)/blif-s.conf "$(DESTDIR)$(libdir)/ivl$(suffix)/blif-s.conf"
 
+
 installdirs: $(srcdir)/../mkinstalldirs
 	$(srcdir)/../mkinstalldirs "$(DESTDIR)$(bindir)" "$(DESTDIR)$(libdir)/ivl$(suffix)"
 
--- a/tgt-fpga/Makefile.in
+++ b/tgt-fpga/Makefile.in
@@ -93,38 +93,38 @@ iverilog-fpga.pdf: iverilog-fpga.ps
 	ps2pdf iverilog-fpga.ps iverilog-fpga.pdf
 
 ifeq (@WIN32@,yes)
-INSTALL_DOC = installpdf installman
+INSTALL_DOC = $(prefix)/iverilog-fpga$(suffix).pdf $(mandir)/man1/iverilog-fpga$(suffix).1
 INSTALL_DOCDIR = $(mandir)/man1
 all: iverilog-fpga.pdf
 else
-INSTALL_DOC = installman
+INSTALL_DOC = $(mandir)/man1/iverilog-fpga$(suffix).1
 INSTALL_DOCDIR = $(mandir)/man1
 endif
 
-install: all installdirs installfiles
+install: all installdirs $(libdir)/ivl$(suffix)/fpga.tgt $(INSTALL_DOC) $(libdir)/ivl$(suffix)/fpga.conf $(libdir)/ivl$(suffix)/fpga-s.conf
 
-F = ./fpga.tgt \
-	$(srcdir)/fpga.conf \
-	$(srcdir)/fpga-s.conf \
-	$(INSTALL_DOC)
+$(libdir)/ivl$(suffix)/fpga.tgt: ./fpga.tgt
+	$(INSTALL_PROGRAM) ./fpga.tgt "$(DESTDIR)$(libdir)/ivl$(suffix)/fpga.tgt"
+
+$(libdir)/ivl$(suffix)/fpga.conf: $(srcdir)/fpga.conf
+	$(INSTALL_DATA) $(srcdir)/fpga.conf "$(DESTDIR)$(libdir)/ivl$(suffix)/fpga.conf"
+
+$(libdir)/ivl$(suffix)/fpga-s.conf: $(srcdir)/fpga-s.conf
+	$(INSTALL_DATA) $(srcdir)/fpga-s.conf "$(DESTDIR)$(libdir)/ivl$(suffix)/fpga-s.conf"
 
-installman: $(srcdir)/iverilog-fpga.man installdirs
+
+$(mandir)/man1/iverilog-fpga$(suffix).1: $(srcdir)/iverilog-fpga.man
 	$(INSTALL_DATA) $(srcdir)/iverilog-fpga.man "$(DESTDIR)$(mandir)/man1/iverilog-fpga$(suffix).1"
 
-installpdf: iverilog-fpga.pdf installdirs
+$(prefix)/iverilog-fpga$(suffix).pdf: iverilog-fpga.pdf
 	$(INSTALL_DATA) iverilog-fpga.pdf "$(DESTDIR)$(prefix)/iverilog-fpga$(suffix).pdf"
 
-installfiles: $(F) installdirs
-	$(INSTALL_PROGRAM) ./fpga.tgt "$(DESTDIR)$(libdir)/ivl$(suffix)/fpga.tgt"
-	$(INSTALL_DATA) $(srcdir)/fpga.conf "$(DESTDIR)$(libdir)/ivl$(suffix)/fpga.conf"
-	$(INSTALL_DATA) $(srcdir)/fpga-s.conf "$(DESTDIR)$(libdir)/ivl$(suffix)/fpga-s.conf"
-
 installdirs: $(srcdir)/../mkinstalldirs
-	$(srcdir)/../mkinstalldirs "$(DESTDIR)$(libdir)/ivl$(suffix)" "$(DESTDIR)$(INSTALL_DOCDIR)"
+	$(srcdir)/../mkinstalldirs "$(DESTDIR)$(libdir)/ivl$(suffix)"
 
 uninstall:
 	rm -f "$(DESTDIR)$(libdir)/ivl$(suffix)/fpga.tgt"
-	rm -f "$(DESTDIR)$(prefix)/iverilog-fpga$(suffix).pdf" "$(DESTDIR)$(mandir)/man1/iverilog-fpga$(suffix).1"
+	rm -f "$(DESTDIR)$(INSTALL_DOC)"
 	rm -f "$(DESTDIR)$(libdir)/ivl$(suffix)/fpga-s.conf"
 	rm -f "$(DESTDIR)$(libdir)/ivl$(suffix)/fpga.conf"
 
--- a/tgt-null/Makefile.in
+++ b/tgt-null/Makefile.in
@@ -81,17 +81,18 @@ endif
 null.tgt: $O $(TGTDEPLIBS)
 	$(CC) @shared@ $(LDFLAGS) -o $@ $O $(TGTLDFLAGS)
 
-install: all installdirs installfiles
+install: all installdirs $(libdir)/ivl$(suffix)/null.tgt $(INSTALL_DOC) $(libdir)/ivl$(suffix)/null.conf $(libdir)/ivl$(suffix)/null-s.conf
 
-F = ./null.tgt \
-	$(srcdir)/null.conf \
-	$(srcdir)/null-s.conf
-
-installfiles: $(F) installdirs
+$(libdir)/ivl$(suffix)/null.tgt: ./null.tgt
 	$(INSTALL_PROGRAM) ./null.tgt "$(DESTDIR)$(libdir)/ivl$(suffix)/null.tgt"
+
+$(libdir)/ivl$(suffix)/null.conf: $(srcdir)/null.conf
 	$(INSTALL_DATA) $(srcdir)/null.conf "$(DESTDIR)$(libdir)/ivl$(suffix)/null.conf"
+
+$(libdir)/ivl$(suffix)/null-s.conf: $(srcdir)/null-s.conf
 	$(INSTALL_DATA) $(srcdir)/null-s.conf "$(DESTDIR)$(libdir)/ivl$(suffix)/null-s.conf"
 
+
 installdirs: $(srcdir)/../mkinstalldirs
 	$(srcdir)/../mkinstalldirs "$(DESTDIR)$(bindir)" "$(DESTDIR)$(libdir)/ivl$(suffix)"
 
--- a/tgt-pal/Makefile.in
+++ b/tgt-pal/Makefile.in
@@ -80,13 +80,12 @@ endif
 pal.tgt: $O $(TGTDEPLIBS)
 	$(CC) @shared@ $(LDFLAGS) -o $@ $O $(TGTLDFLAGS) -lipal
 
-install: all installdirs installfiles
+install: all installdirs $(libdir)/ivl/pal.tgt
 
-F = ./pal.tgt
-
-installfiles: $(F) installdirs
+$(libdir)/ivl/pal.tgt: ./pal.tgt
 	$(INSTALL_PROGRAM) ./pal.tgt "$(DESTDIR)$(libdir)/ivl/pal.tgt"
 
+
 installdirs: $(srcdir)/../mkinstalldirs
 	$(srcdir)/../mkinstalldirs "$(DESTDIR)/$(libdir)/ivl"
 
--- a/tgt-pcb/Makefile.in
+++ b/tgt-pcb/Makefile.in
@@ -105,17 +105,18 @@ endif
 pcb.tgt: $O $(TGTDEPLIBS)
 	$(CXX) @shared@ $(LDFLAGS) -o $@ $O $(TGTLDFLAGS)
 
-install: all installdirs installfiles
+install: all installdirs $(libdir)/ivl$(suffix)/pcb.tgt $(INSTALL_DOC) $(libdir)/ivl$(suffix)/pcb.conf $(libdir)/ivl$(suffix)/pcb-s.conf
 
-F = ./pcb.tgt \
-	$(srcdir)/pcb.conf \
-	$(srcdir)/pcb-s.conf
-
-installfiles: $(F) installdirs
+$(libdir)/ivl$(suffix)/pcb.tgt: ./pcb.tgt
 	$(INSTALL_PROGRAM) ./pcb.tgt "$(DESTDIR)$(libdir)/ivl$(suffix)/pcb.tgt"
+
+$(libdir)/ivl$(suffix)/pcb.conf: $(srcdir)/pcb.conf
 	$(INSTALL_DATA) $(srcdir)/pcb.conf "$(DESTDIR)$(libdir)/ivl$(suffix)/pcb.conf"
+
+$(libdir)/ivl$(suffix)/pcb-s.conf: $(srcdir)/pcb-s.conf
 	$(INSTALL_DATA) $(srcdir)/pcb-s.conf "$(DESTDIR)$(libdir)/ivl$(suffix)/pcb-s.conf"
 
+
 installdirs: $(srcdir)/../mkinstalldirs
 	$(srcdir)/../mkinstalldirs "$(DESTDIR)$(bindir)" "$(DESTDIR)$(libdir)/ivl$(suffix)"
 
--- a/tgt-sizer/Makefile.in
+++ b/tgt-sizer/Makefile.in
@@ -81,17 +81,18 @@ endif
 sizer.tgt: $O $(TGTDEPLIBS)
 	$(CXX) @shared@ $(LDFLAGS) -o $@ $O $(TGTLDFLAGS)
 
-install: all installdirs installfiles
+install: all installdirs $(libdir)/ivl$(suffix)/sizer.tgt $(INSTALL_DOC) $(libdir)/ivl$(suffix)/sizer.conf $(libdir)/ivl$(suffix)/sizer-s.conf
 
-F = ./sizer.tgt \
-	$(srcdir)/sizer.conf \
-	$(srcdir)/sizer-s.conf
-
-installfiles: $(F) installdirs
+$(libdir)/ivl$(suffix)/sizer.tgt: ./sizer.tgt
 	$(INSTALL_PROGRAM) ./sizer.tgt "$(DESTDIR)$(libdir)/ivl$(suffix)/sizer.tgt"
+
+$(libdir)/ivl$(suffix)/sizer.conf: $(srcdir)/sizer.conf
 	$(INSTALL_DATA) $(srcdir)/sizer.conf "$(DESTDIR)$(libdir)/ivl$(suffix)/sizer.conf"
+
+$(libdir)/ivl$(suffix)/sizer-s.conf: $(srcdir)/sizer-s.conf
 	$(INSTALL_DATA) $(srcdir)/sizer-s.conf "$(DESTDIR)$(libdir)/ivl$(suffix)/sizer-s.conf"
 
+
 installdirs: $(srcdir)/../mkinstalldirs
 	$(srcdir)/../mkinstalldirs "$(DESTDIR)$(bindir)" "$(DESTDIR)$(libdir)/ivl$(suffix)"
 
--- a/tgt-stub/Makefile.in
+++ b/tgt-stub/Makefile.in
@@ -82,16 +82,17 @@ endif
 stub.tgt: $O $(TGTDEPLIBS)
 	$(CC) @shared@ $(LDFLAGS) -o $@ $O $(TGTLDFLAGS)
 
-install: all installdirs installfiles
+install: all installdirs $(libdir)/ivl$(suffix)/stub.tgt \
+	$(libdir)/ivl$(suffix)/stub.conf $(libdir)/ivl$(suffix)/stub-s.conf
 
-F = ./stub.tgt \
-	./stub.conf \
-	./stub-s.conf
-
-installfiles: $(F) installdirs
+$(libdir)/ivl$(suffix)/stub.tgt: ./stub.tgt
 	$(INSTALL_PROGRAM) ./stub.tgt "$(DESTDIR)$(libdir)/ivl$(suffix)/stub.tgt"
-	$(INSTALL_DATA) ./stub.conf "$(DESTDIR)$(libdir)/ivl$(suffix)/stub.conf"
-	$(INSTALL_DATA) ./stub-s.conf "$(DESTDIR)$(libdir)/ivl$(suffix)/stub-s.conf"
+
+$(libdir)/ivl$(suffix)/stub.conf: stub.conf
+	$(INSTALL_DATA) $< "$(DESTDIR)$(libdir)/ivl$(suffix)/stub.conf"
+
+$(libdir)/ivl$(suffix)/stub-s.conf: stub-s.conf
+	$(INSTALL_DATA) $< "$(DESTDIR)$(libdir)/ivl$(suffix)/stub-s.conf"
 
 installdirs: $(srcdir)/../mkinstalldirs
 	$(srcdir)/../mkinstalldirs "$(DESTDIR)$(libdir)/ivl$(suffix)"
--- a/tgt-verilog/Makefile.in
+++ b/tgt-verilog/Makefile.in
@@ -80,14 +80,12 @@ endif
 verilog.tgt: $O $(TGTDEPLIBS)
 	$(CC) @shared@ $(LDFLAGS) -o $@ $O $(TGTLDFLAGS)
 
-install: all installdirs installfiles
+install: all installdirs $(libdir)/ivl/verilog.tgt \
+	$(includedir)/vpi_user.h
 
-F = ./verilog.tgt \
-	$(srcdir)/vpi_user.h
-
-installfiles: $(F) installdirs
+$(libdir)/ivl/verilog.tgt: ./verilog.tgt
 	$(INSTALL_PROGRAM) ./verilog.tgt "$(DESTDIR)$(libdir)/ivl/verilog.tgt"
-	$(INSTALL_DATA) $(srcdir)/vpi_user.h "$(DESTDIR)$(includedir)/vpi_user.h"
+
 
 installdirs: $(srcdir)/../mkinstalldirs
 	$(srcdir)/../mkinstalldirs "$(DESTDIR)$(libdir)/ivl"
--- a/tgt-vhdl/Makefile.in
+++ b/tgt-vhdl/Makefile.in
@@ -90,16 +90,17 @@ stamp-vhdl_config-h: $(srcdir)/vhdl_config.h.in ../config.status
 	cd ..; ./config.status --header=tgt-vhdl/vhdl_config.h
 vhdl_config.h: stamp-vhdl_config-h
 
-install: all installdirs installfiles
+install: all installdirs $(libdir)/ivl$(suffix)/vhdl.tgt $(libdir)/ivl$(suffix)/vhdl.conf \
+	$(libdir)/ivl$(suffix)/vhdl-s.conf
 
-F = ./vhdl.tgt \
-	./vhdl.conf \
-	./vhdl-s.conf
-
-installfiles: $(F) installdirs
+$(libdir)/ivl$(suffix)/vhdl.tgt: ./vhdl.tgt
 	$(INSTALL_PROGRAM) ./vhdl.tgt "$(DESTDIR)$(libdir)/ivl$(suffix)/vhdl.tgt"
-	$(INSTALL_DATA) ./vhdl.conf "$(DESTDIR)$(libdir)/ivl$(suffix)/vhdl.conf"
-	$(INSTALL_DATA) ./vhdl-s.conf "$(DESTDIR)$(libdir)/ivl$(suffix)/vhdl-s.conf"
+
+$(libdir)/ivl$(suffix)/vhdl.conf: vhdl.conf
+	$(INSTALL_DATA) $< "$(DESTDIR)$(libdir)/ivl$(suffix)/vhdl.conf"
+
+$(libdir)/ivl$(suffix)/vhdl-s.conf: vhdl-s.conf
+	$(INSTALL_DATA) $< "$(DESTDIR)$(libdir)/ivl$(suffix)/vhdl-s.conf"
 
 installdirs: $(srcdir)/../mkinstalldirs
 	$(srcdir)/../mkinstalldirs "$(DESTDIR)$(libdir)/ivl$(suffix)"
--- a/tgt-vlog95/Makefile.in
+++ b/tgt-vlog95/Makefile.in
@@ -81,17 +81,18 @@ endif
 vlog95.tgt: $O $(TGTDEPLIBS)
 	$(CC) @shared@ $(LDFLAGS) -o $@ $O -lm $(TGTLDFLAGS)
 
-install: all installdirs installfiles
+install: all installdirs $(libdir)/ivl$(suffix)/vlog95.tgt $(INSTALL_DOC) $(libdir)/ivl$(suffix)/vlog95.conf $(libdir)/ivl$(suffix)/vlog95-s.conf
 
-F = ./vlog95.tgt \
-	$(srcdir)/vlog95.conf \
-	$(srcdir)/vlog95-s.conf
-
-installfiles: $(F) installdirs
+$(libdir)/ivl$(suffix)/vlog95.tgt: ./vlog95.tgt
 	$(INSTALL_PROGRAM) ./vlog95.tgt "$(DESTDIR)$(libdir)/ivl$(suffix)/vlog95.tgt"
+
+$(libdir)/ivl$(suffix)/vlog95.conf: $(srcdir)/vlog95.conf
 	$(INSTALL_DATA) $(srcdir)/vlog95.conf "$(DESTDIR)$(libdir)/ivl$(suffix)/vlog95.conf"
+
+$(libdir)/ivl$(suffix)/vlog95-s.conf: $(srcdir)/vlog95-s.conf
 	$(INSTALL_DATA) $(srcdir)/vlog95-s.conf "$(DESTDIR)$(libdir)/ivl$(suffix)/vlog95-s.conf"
 
+
 installdirs: $(srcdir)/../mkinstalldirs
 	$(srcdir)/../mkinstalldirs "$(DESTDIR)$(bindir)" "$(DESTDIR)$(libdir)/ivl$(suffix)"
 
--- a/tgt-vvp/Makefile.in
+++ b/tgt-vvp/Makefile.in
@@ -104,16 +104,17 @@ stamp-vvp_config-h: $(srcdir)/vvp_config.h.in ../config.status
 	cd ..; ./config.status --header=tgt-vvp/vvp_config.h
 vvp_config.h: stamp-vvp_config-h
 
-install: all installdirs installfiles
+install: all installdirs $(libdir)/ivl$(suffix)/vvp.tgt $(libdir)/ivl$(suffix)/vvp.conf $(libdir)/ivl$(suffix)/vvp-s.conf
 
-F = ./vvp.tgt \
-	./vvp.conf \
-	./vvp-s.conf
-
-installfiles: $(F) installdirs
+$(libdir)/ivl$(suffix)/vvp.tgt: ./vvp.tgt
 	$(INSTALL_PROGRAM) ./vvp.tgt "$(DESTDIR)$(libdir)/ivl$(suffix)/vvp.tgt"
-	$(INSTALL_DATA) ./vvp.conf "$(DESTDIR)$(libdir)/ivl$(suffix)/vvp.conf"
-	$(INSTALL_DATA) ./vvp-s.conf "$(DESTDIR)$(libdir)/ivl$(suffix)/vvp-s.conf"
+
+$(libdir)/ivl$(suffix)/vvp.conf: vvp.conf
+	$(INSTALL_DATA) $< "$(DESTDIR)$(libdir)/ivl$(suffix)/vvp.conf"
+
+$(libdir)/ivl$(suffix)/vvp-s.conf: vvp-s.conf
+	$(INSTALL_DATA) $< "$(DESTDIR)$(libdir)/ivl$(suffix)/vvp-s.conf"
+
 
 installdirs: $(srcdir)/../mkinstalldirs
 	$(srcdir)/../mkinstalldirs "$(DESTDIR)$(libdir)/ivl$(suffix)"
--- a/vhdlpp/Makefile.in
+++ b/vhdlpp/Makefile.in
@@ -127,11 +127,9 @@ lexor_keyword.o: lexor_keyword.cc parse.h
 lexor_keyword.cc: $(srcdir)/lexor_keyword.gperf
 	gperf -o -i 7 --ignore-case -C -k 1-4,6,9,$$ -H keyword_hash -N check_identifier -t $(srcdir)/lexor_keyword.gperf > lexor_keyword.cc || (rm -f lexor_keyword.cc ; false)
 
-install: all installdirs installfiles
+install: all installdirs $(libdir)/ivl$(suffix)/vhdlpp@EXEEXT@
 
-F = vhdlpp@EXEEXT@
-
-installfiles: $(F) installdirs
+$(libdir)/ivl$(suffix)/vhdlpp@EXEEXT@: vhdlpp@EXEEXT@
 	$(INSTALL_PROGRAM) ./vhdlpp@EXEEXT@ "$(DESTDIR)$(libdir)/ivl$(suffix)/vhdlpp@EXEEXT@"
 
 installdirs: $(srcdir)/../mkinstalldirs
--- a/vpi/Makefile.in
+++ b/vpi/Makefile.in
@@ -187,25 +187,38 @@ stamp-vpi_config-h: $(srcdir)/vpi_config.h.in ../config.status
 	cd ..; ./config.status --header=vpi/vpi_config.h
 vpi_config.h: stamp-vpi_config-h
 
-install: all installdirs installfiles
-
-F = ./libvpi.a \
-	./system.vpi \
-	./va_math.vpi \
-	./v2005_math.vpi \
-	./v2009.vpi \
-	./vhdl_sys.vpi \
-	./vhdl_textio.vpi \
-	./vpi_debug.vpi
-
-installfiles: $(F) installdirs
-	$(INSTALL_DATA) ./libvpi.a "$(DESTDIR)$(libdir)/libvpi$(suffix).a"
+install: all installdirs \
+    $(libdir)/libvpi$(suffix).a \
+    $(vpidir)/system.vpi \
+    $(vpidir)/va_math.vpi \
+    $(vpidir)/v2005_math.vpi \
+    $(vpidir)/v2009.vpi \
+    $(vpidir)/vhdl_sys.vpi \
+    $(vpidir)/vhdl_textio.vpi \
+    $(vpidir)/vpi_debug.vpi
+
+$(libdir)/libvpi$(suffix).a : ./libvpi.a
+	$(INSTALL_DATA) libvpi.a "$(DESTDIR)$(libdir)/libvpi$(suffix).a"
+
+$(vpidir)/system.vpi: ./system.vpi
 	$(INSTALL_PROGRAM) ./system.vpi "$(DESTDIR)$(vpidir)/system.vpi"
+
+$(vpidir)/va_math.vpi: ./va_math.vpi
 	$(INSTALL_PROGRAM) ./va_math.vpi "$(DESTDIR)$(vpidir)/va_math.vpi"
+
+$(vpidir)/v2005_math.vpi: ./v2005_math.vpi
 	$(INSTALL_PROGRAM) ./v2005_math.vpi "$(DESTDIR)$(vpidir)/v2005_math.vpi"
+
+$(vpidir)/v2009.vpi: ./v2009.vpi
 	$(INSTALL_PROGRAM) ./v2009.vpi "$(DESTDIR)$(vpidir)/v2009.vpi"
+
+$(vpidir)/vhdl_sys.vpi: ./vhdl_sys.vpi
 	$(INSTALL_PROGRAM) ./vhdl_sys.vpi "$(DESTDIR)$(vpidir)/vhdl_sys.vpi"
+
+$(vpidir)/vhdl_textio.vpi: ./vhdl_textio.vpi
 	$(INSTALL_PROGRAM) ./vhdl_textio.vpi "$(DESTDIR)$(vpidir)/vhdl_textio.vpi"
+
+$(vpidir)/vpi_debug.vpi: ./vpi_debug.vpi
 	$(INSTALL_PROGRAM) ./vpi_debug.vpi "$(DESTDIR)$(vpidir)/vpi_debug.vpi"
 
 installdirs: $(srcdir)/../mkinstalldirs
--- a/vvp/Makefile.in
+++ b/vvp/Makefile.in
@@ -162,18 +162,18 @@ vvp.pdf: vvp.ps
 
 ifeq (@MINGW32@,yes)
 ifeq ($(MAN),none)
-INSTALL_DOC = installman
+INSTALL_DOC = $(mandir)/man1/vvp$(suffix).1
 else
 ifeq ($(PS2PDF),none)
-INSTALL_DOC = installman
+INSTALL_DOC = $(mandir)/man1/vvp$(suffix).1
 else
-INSTALL_DOC = installpdf installman
+INSTALL_DOC = $(prefix)/vvp$(suffix).pdf $(mandir)/man1/vvp$(suffix).1
 all: vvp.pdf
 endif
 endif
 INSTALL_DOCDIR = $(mandir)/man1
 else
-INSTALL_DOC = installman
+INSTALL_DOC = $(mandir)/man1/vvp$(suffix).1
 INSTALL_DOCDIR = $(mandir)/man1
 endif
 
@@ -182,19 +182,17 @@ stamp-config-h: $(srcdir)/config.h.in ../config.status
 	cd ..; ./config.status --header=vvp/config.h
 config.h: stamp-config-h
 
-install: all installdirs installfiles
+install: all installdirs $(bindir)/vvp$(suffix)@EXEEXT@ $(INSTALL_DOC)
 
-F = ./vvp@EXEEXT@ $(INSTALL_DOC)
+$(bindir)/vvp$(suffix)@EXEEXT@: ./vvp@EXEEXT@
+	$(INSTALL_PROGRAM) ./vvp@EXEEXT@ "$(DESTDIR)$(bindir)/vvp$(suffix)@EXEEXT@"
 
-installman: vvp.man installdirs
+$(mandir)/man1/vvp$(suffix).1: vvp.man
 	$(INSTALL_DATA) vvp.man "$(DESTDIR)$(mandir)/man1/vvp$(suffix).1"
 
-installpdf: vvp.pdf installdirs
+$(prefix)/vvp$(suffix).pdf: vvp.pdf
 	$(INSTALL_DATA) vvp.pdf "$(DESTDIR)$(prefix)/vvp$(suffix).pdf"
 
-installfiles: $(F) installdirs
-	$(INSTALL_PROGRAM) ./vvp@EXEEXT@ "$(DESTDIR)$(bindir)/vvp$(suffix)@EXEEXT@"
-
 installdirs: $(srcdir)/../mkinstalldirs
 	$(srcdir)/../mkinstalldirs "$(DESTDIR)$(bindir)" "$(DESTDIR)$(libdir)" "$(DESTDIR)$(INSTALL_DOCDIR)"
 
