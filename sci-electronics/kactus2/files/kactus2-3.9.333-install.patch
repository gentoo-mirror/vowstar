From 8b2cbc4fddfbb2fce7c273800fcead6a7fff448b Mon Sep 17 00:00:00 2001
From: Ameya Vikram Singh <ameya.v.singh@gmail.com>
Date: Sun, 27 Mar 2022 00:27:15 +0530
Subject: [PATCH] Fixes Linker Error, and deprecation warning

* Fixes Linker error in Fedora 35:
  "cannot use executable file './../../executable/libKactus2.so' as input to a link"
* Fixes Deprecation warning for 'qcollectiongenerator' with Qt5.15.2

Signed-off-by: Ameya Vikram Singh <ameya.v.singh@gmail.com>
---
 Plugins/MCAPICodeGenerator/MCAPICodeGenerator.pro | 2 +-
 Plugins/VHDLGenerator/VHDLGenerator.pro           | 2 +-
 PythonAPI/PythonAPI.pro                           | 4 ++--
 configure                                         | 2 +-
 4 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/Plugins/MCAPICodeGenerator/MCAPICodeGenerator.pro b/Plugins/MCAPICodeGenerator/MCAPICodeGenerator.pro
index 2f5aa3d26..c0777aa6a 100644
--- a/Plugins/MCAPICodeGenerator/MCAPICodeGenerator.pro
+++ b/Plugins/MCAPICodeGenerator/MCAPICodeGenerator.pro
@@ -17,7 +17,7 @@ INCLUDEPATH += ./../.. \
     $(QTDIR)/../qttools/include 
 
 LIBS += -L"./../../executable" \
-    -lIPXACTmodels -lKactus2
+    -lIPXACTmodels
 
 DESTDIR = ../../executable/Plugins
 
diff --git a/Plugins/VHDLGenerator/VHDLGenerator.pro b/Plugins/VHDLGenerator/VHDLGenerator.pro
index 02480e818..18f8f280e 100644
--- a/Plugins/VHDLGenerator/VHDLGenerator.pro
+++ b/Plugins/VHDLGenerator/VHDLGenerator.pro
@@ -15,7 +15,7 @@ INCLUDEPATH += ./../.. \
     . \
     $(QTDIR)/../qttools/include 
 LIBS += -L"./../../executable" \
-    -lIPXACTmodels -lKactus2
+    -lIPXACTmodels
 
 DESTDIR = ../../executable/Plugins
 
diff --git a/PythonAPI/PythonAPI.pro b/PythonAPI/PythonAPI.pro
index 8207374bc..9fd780f3e 100644
--- a/PythonAPI/PythonAPI.pro
+++ b/PythonAPI/PythonAPI.pro
@@ -9,8 +9,8 @@ CONFIG += c++11 release dll
 DEFINES += PYTHONAPI_LIB
 QT += core gui widgets xml
 LIBS += -L"$(SolutionDir)x64/executable" \
-    -L$$(PWD)/../executable -lIPXACTmodels \
-    -L$$(PWD)/../executable -lKactus2
+    -L$$(PWD)/../executable -lIPXACTmodels
+
 DEPENDPATH += ..
 INCLUDEPATH += ..
 MOC_DIR += ./GeneratedFiles
diff --git a/configure b/configure
index 87d59773e..3453cf369 100755
--- a/configure
+++ b/configure
@@ -22,7 +22,7 @@ print_success() {
 # Generate compressed help files.
 echo "Generating compressed help files..."
 ${QTBIN_PATH}qhelpgenerator Help/kactus2help.qhp -o Help/Kactus2Help.qch
-${QTBIN_PATH}qcollectiongenerator Help/kactus2help.qhcp -o Help/Kactus2Help.qhc
+${QTBIN_PATH}qhelpgenerator Help/kactus2help.qhcp -o Help/Kactus2Help.qhc
 
 if command -v ${QTBIN_PATH}qtchooser >/dev/null 2>&1; then
    #Run qmake using qtchooser.